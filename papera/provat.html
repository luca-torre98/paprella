<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paperella Game</title>

    <!-- Phaser.js -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #000;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div id="phaser-example"></div>

    <script>
        class MenuScene extends Phaser.Scene {
            constructor() {
                super('MenuScene');
            }

            preload() {
                this.load.image('menuBackground', 'papera/nuvola.jpg'); // Sfondo
                this.load.image('startButton', 'papera/ape.png'); // Pulsante
            }

            create() {
                // Aggiungi uno sfondo
                this.add.image(400, 300, 'menuBackground').setScale(2);

                // Testo di benvenuto
                this.add.text(400, 150, 'Benvenuto nel Paperella Game!', {
                    font: '32px Arial',
                    fill: '#ffffff'
                }).setOrigin(0.5);

                // Pulsante per iniziare
                const startButton = this.add.image(400, 400, 'startButton').setInteractive();
                startButton.on('pointerdown', () => {
                    this.scene.start('GameScene'); // Passa alla scena del gioco
                });

                // Testo sul pulsante
                this.add.text(400, 400, 'Inizia', {
                    font: '24px Arial',
                    fill: '#000'
                }).setOrigin(0.5);
            }
        }

        class GameScene extends Phaser.Scene {
            constructor() {
                super('GameScene');
            }

            preload() {
                this.load.image('background', 'papera/nuvola.jpg');
                this.load.image('plush', 'papera/papera.jfif');
                this.load.image('muffa', 'papera/muffa.jpg');
            }

            create() {
                // Sfondo del gioco
                this.add.image(400, 300, 'background').setScale(2);

                // Creazione di oggetti nel gioco
                const plush = this.add.image(400, 300, 'plush').setInteractive();
                plush.on('pointerdown', () => {
                    alert('Hai cliccato la papera! Hai vinto!');
                });

                const muffa = this.add.image(600, 300, 'muffa').setInteractive();
                muffa.on('pointerdown', () => {
                    alert('Hai cliccato la muffa! Hai perso!');
                });
            }
        }

        const config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            scene: [MenuScene, GameScene], // Registra le scene
            parent: 'phaser-example'
        };

        const game = new Phaser.Game(config);
    </script>
</body>
</html>
